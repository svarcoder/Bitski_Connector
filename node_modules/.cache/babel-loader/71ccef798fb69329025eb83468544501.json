{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBestUrl = void 0;\n/**\n * @param urls - An array of URLs to try to connect to.\n * @param timeout - How long to wait before a call is considered failed, in ms.\n */\nfunction getBestUrl(urls, timeout) {\n  return __awaiter(this, void 0, void 0, function* () {\n    // if we only have 1 url, it's the best!\n    if (urls.length === 1) return urls[0];\n    const [HttpConnection, JsonRpcProvider] = yield Promise.all([Promise.resolve().then(() => __importStar(require('@walletconnect/jsonrpc-http-connection'))).then(_ref => {\n      let {\n        HttpConnection\n      } = _ref;\n      return HttpConnection;\n    }), Promise.resolve().then(() => __importStar(require('@walletconnect/jsonrpc-provider'))).then(_ref2 => {\n      let {\n        JsonRpcProvider\n      } = _ref2;\n      return JsonRpcProvider;\n    })]);\n    // the below returns the first url for which there's been a successful call, prioritized by index\n    return new Promise(resolve => {\n      let resolved = false;\n      const successes = {};\n      urls.forEach((url, i) => {\n        const http = new JsonRpcProvider(new HttpConnection(url));\n        // create a promise that resolves on a successful call, and rejects on a failed call or after timeout milliseconds\n        const promise = new Promise((resolve, reject) => {\n          http.request({\n            method: 'eth_chainId'\n          }).then(() => resolve()).catch(() => reject());\n          // set a timeout to reject\n          setTimeout(() => {\n            reject();\n          }, timeout);\n        });\n        void promise.then(() => true).catch(() => false).then(success => {\n          // if we already resolved, return\n          if (resolved) return;\n          // store the result of the call\n          successes[i] = success;\n          // if this is the last call and we haven't resolved yet - do so\n          if (Object.keys(successes).length === urls.length) {\n            const index = Object.keys(successes).findIndex(j => successes[Number(j)]);\n            // no need to set resolved to true, as this is the last promise\n            return resolve(urls[index === -1 ? 0 : index]);\n          }\n          // otherwise, for each prospective index, check if we can resolve\n          new Array(urls.length).fill(0).forEach((_, prospectiveIndex) => {\n            // to resolve, we need to:\n            // a) have successfully made a call\n            // b) not be waiting on any other higher-index calls\n            if (successes[prospectiveIndex] && new Array(prospectiveIndex).fill(0).every((_, j) => successes[j] === false)) {\n              resolved = true;\n              resolve(urls[prospectiveIndex]);\n            }\n          });\n        });\n      });\n    });\n  });\n}\nexports.getBestUrl = getBestUrl;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","exports","getBestUrl","urls","timeout","length","HttpConnection","JsonRpcProvider","all","require","resolved","successes","forEach","url","i","http","promise","request","method","catch","setTimeout","success","keys","index","findIndex","j","Number","Array","fill","_","prospectiveIndex","every"],"sources":["/Users/charvai/Desktop/template/node_modules/@web3-react/walletconnect/dist/utils.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBestUrl = void 0;\n/**\n * @param urls - An array of URLs to try to connect to.\n * @param timeout - How long to wait before a call is considered failed, in ms.\n */\nfunction getBestUrl(urls, timeout) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // if we only have 1 url, it's the best!\n        if (urls.length === 1)\n            return urls[0];\n        const [HttpConnection, JsonRpcProvider] = yield Promise.all([\n            Promise.resolve().then(() => __importStar(require('@walletconnect/jsonrpc-http-connection'))).then(({ HttpConnection }) => HttpConnection),\n            Promise.resolve().then(() => __importStar(require('@walletconnect/jsonrpc-provider'))).then(({ JsonRpcProvider }) => JsonRpcProvider),\n        ]);\n        // the below returns the first url for which there's been a successful call, prioritized by index\n        return new Promise((resolve) => {\n            let resolved = false;\n            const successes = {};\n            urls.forEach((url, i) => {\n                const http = new JsonRpcProvider(new HttpConnection(url));\n                // create a promise that resolves on a successful call, and rejects on a failed call or after timeout milliseconds\n                const promise = new Promise((resolve, reject) => {\n                    http\n                        .request({ method: 'eth_chainId' })\n                        .then(() => resolve())\n                        .catch(() => reject());\n                    // set a timeout to reject\n                    setTimeout(() => {\n                        reject();\n                    }, timeout);\n                });\n                void promise\n                    .then(() => true)\n                    .catch(() => false)\n                    .then((success) => {\n                    // if we already resolved, return\n                    if (resolved)\n                        return;\n                    // store the result of the call\n                    successes[i] = success;\n                    // if this is the last call and we haven't resolved yet - do so\n                    if (Object.keys(successes).length === urls.length) {\n                        const index = Object.keys(successes).findIndex((j) => successes[Number(j)]);\n                        // no need to set resolved to true, as this is the last promise\n                        return resolve(urls[index === -1 ? 0 : index]);\n                    }\n                    // otherwise, for each prospective index, check if we can resolve\n                    new Array(urls.length).fill(0).forEach((_, prospectiveIndex) => {\n                        // to resolve, we need to:\n                        // a) have successfully made a call\n                        // b) not be waiting on any other higher-index calls\n                        if (successes[prospectiveIndex] &&\n                            new Array(prospectiveIndex).fill(0).every((_, j) => successes[j] === false)) {\n                            resolved = true;\n                            resolve(urls[prospectiveIndex]);\n                        }\n                    });\n                });\n            });\n        });\n    });\n}\nexports.getBestUrl = getBestUrl;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}